<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<CENTER><H1><FONT COLOR="0000AA">HPC-T-Assembly</FONT></H1></CENTER>

 <fieldset>
  <legend><B><FONT COLOR="0000AA">Introduction</FONT></B></legend>

  <p>In the following section there's a step by step explanation on how to use the web interface to set the necessary configurations for the proper execution of the pipeline in an HPC environment. The system will then generate and download a .zip archive containing a Python script and all the configuration files necessary for each step of said pipeline. 
    This archive, alongside the Raw Data and the HPC_T_Assembly_Data.txt file, must be transferred to the HPC machine by the user.</p>

  <p>Once all files are uploaded, the user executes the Python script which will download and install all the software necessary for running the pipeline, and generate the executable scripts taking into account the parameters configured by the user in this interface. After the execution of the python script completes successfully the user can launch the pipeline by executing the HPC_T_Assembly_Single.sh script in case of a single species or the HPC_T_Assembly_Multiple.sh in case of running the pipeline with multiple species. After this step no further user intervention is necessary until the execution of the pipeline is concluded and the Transcripts and ORFs are produced.</p>
  
  <h3>Execution for Single Species</h3>
  
  <p>The execution of the pipeline for a single specie proceeds as follows:</p>
  <div style="margin-left: 5%;">
  <ol>
    <li>Fastp is launched for each left, right reads pair. Generating the trimmed reads which will be used in the next step and an HTML file with the quality analysis before and after trimming which can be reviewed by the user.</li>
    <li>A single multithreaded process of RNASpades with as many threads as set in the HPC configuration is launched to assemble the trimmed reads.</li>
    <li>A multithreaded instance of the clusterer CD-HIT-EST is launched with the parameters configured in the web interface or with the default parameters -c 0.95 -n 10 -M 1600 taking as input the transcript generated by RNASpades and outputting another transcript file.</li>
    <li>Salmon builds the index and transcript quantifiers that will be used in Corset to generate its transcripts.</li>
    <li>Corset is launched as a single threaded process and its corresponding transcripts are generated.</li>
    <li>After all the transcripts are generated a single threaded process of trinity stats is launched per each transcript (Spades, CD-HIT, Corset).</li>
    <li>Hisat builds an index and then proceeds to align the reads. (Runs parallel to step 6)</li>
    <li>TransDecoder followed by TransDecoder.predict are launched to identify the candidate coding regions within the transcripted sequences.</li>
    <li>An initial cleanup script organizes the output into 4 folders: Transcripts, ORF, Statistics, Intermediate_Files.</li>
    <li>A final script eliminates the downloaded software that was required for the execution of the pipeline.</li>
  </ol>
</div>
<p></p>
  <h3>Execution for Multiple Species</h3>
  
  <p>When running the software for multiple species, a separate folder is created for each species, and the pipeline is executed in parallel within these folders.</p>
  

 </fieldset>

<BR>

 <fieldset>
  <legend><B><FONT COLOR="0000AA">Web Interface Usage</FONT></B></legend>

  <p>Pressing on the button titled “Configuration Panel” below will redirect you to the configuration section of this site.</p>
  <p>There you can generate the configuration scripts by taking the following steps:</p>
  
  <div style="margin-left: 5%;">
      <ol>
        <li>Complete the HPC configuration inputting your account and partition name.</li>
        <li>Optionally modify the Threads, Memory, and/or Time values depending on your specific needs/HPC specifications.</li>
        <li>Optionally modify the optional parameters of each tool used in the pipeline by pressing on the name of the stage or on the blue arrow pointing to it.</li>
        <li>Press the “SEND” button which will download a zip file with the configuration scripts.</li>
      </ol>
  </div>

 </fieldset>


	<CENTER><a href="main"><button type="submit" class="submit-button">CONFIGURATION PANEL</button></a></CENTER>